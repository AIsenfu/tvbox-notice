<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>公告展示平台</title>
    <style>
        /* 全局样式：横屏优先适配 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", "PingFang SC", sans-serif;
        }

        body {
            background: #121212; /* 简化背景，避免加载问题 */
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
            padding: clamp(10px, 2vw, 15px);
            /* 横屏时内容居中紧凑排列 */
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* 页面容器：限制最大宽度，适配横屏平板/手机 */
        .page-container {
            width: 100%;
            max-width: 1200px; /* 横屏平板最佳宽度 */
            max-height: 95vh; /* 内容集中在单屏，不超出视口 */
            display: flex;
            flex-direction: column;
            gap: clamp(10px, 1.5vw, 15px);
        }

        /* 头部：毛玻璃+拟态，紧凑布局 */
        .header {
            text-align: center;
            padding: clamp(12px, 2vw, 15px);
            background: rgba(30, 30, 30, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(50, 50, 50, 0.3);
            border-radius: 16px;
            box-shadow: 
                8px 8px 16px rgba(0, 0, 0, 0.4),
                inset 2px 2px 4px rgba(60, 60, 60, 0.2),
                inset -2px -2px 4px rgba(0, 0, 0, 0.6);
        }

        .header h1 {
            color: #ffffff;
            /* 关键修改：缩小标题字号，原1.4rem~1.8rem → 1.2rem~1.5rem */
            font-size: clamp(1.2rem, 2.5vw, 1.5rem);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            margin-bottom: 5px;
        }

        .header p {
            color: #9e9e9e;
            font-size: clamp(0.8rem, 1.5vw, 0.9rem);
        }

        /* 筛选栏：横屏左对齐，紧凑排列 */
        .filter-bar {
            padding: clamp(10px, 1.5vw, 12px);
            border-radius: 12px;
            background: rgba(30, 30, 30, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(50, 50, 50, 0.3);
            box-shadow: 
                6px 6px 12px rgba(0, 0, 0, 0.3),
                inset 2px 2px 3px rgba(60, 60, 60, 0.2),
                inset -2px -2px 3px rgba(0, 0, 0, 0.5);
            display: flex;
            gap: clamp(8px, 1vw, 10px);
            align-items: center;
            overflow-x: auto;
            scrollbar-width: none;
        }

        .filter-bar::-webkit-scrollbar {
            display: none;
        }

        .filter-bar button {
            color: #e0e0e0;
            border: none;
            padding: clamp(6px, 1vw, 8px) clamp(12px, 1.5vw, 16px);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: clamp(0.8rem, 1.2vw, 0.9rem);
            white-space: nowrap;
            background: rgba(45, 45, 45, 0.8);
            box-shadow: 
                3px 3px 6px rgba(0, 0, 0, 0.3),
                inset 1px 1px 2px rgba(70, 70, 70, 0.2),
                inset -1px -1px 2px rgba(0, 0, 0, 0.4);
        }

        .filter-bar button.active {
            background: rgba(98, 0, 238, 0.8);
            color: #ffffff;
            box-shadow: 
                inset 3px 3px 6px rgba(0, 0, 0, 0.3),
                inset -1px -1px 2px rgba(255, 255, 255, 0.1);
        }

        .filter-bar button:hover:not(.active) {
            background: rgba(56, 56, 56, 0.8);
            box-shadow: 
                4px 4px 8px rgba(0, 0, 0, 0.35),
                inset 1px 1px 2px rgba(70, 70, 70, 0.2),
                inset -1px -1px 2px rgba(0, 0, 0, 0.4);
        }

        /* 核心容器：列表/详情切换，占满剩余高度 */
        .content-container {
            flex: 1; /* 填满剩余视口高度，不超出屏幕 */
            border-radius: 14px;
            position: relative;
            overflow: hidden; /* 隐藏层级切换时的溢出内容 */
        }

        /* 公告列表层：默认显示，填满容器 */
        .notice-list-layer {
            width: 100%;
            height: 100%;
            padding: clamp(10px, 1.5vw, 15px);
            background: rgba(30, 30, 30, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(50, 50, 50, 0.3);
            box-shadow: 
                6px 6px 12px rgba(0, 0, 0, 0.3),
                inset 2px 2px 3px rgba(60, 60, 60, 0.2),
                inset -2px -2px 3px rgba(0, 0, 0, 0.5);
            overflow-y: auto; /* 列表超出时纵向滚动，保持单屏 */
            scrollbar-width: thin;
            scrollbar-color: #383838 #1e1e1e;
            display: flex;
            flex-direction: column;
            gap: clamp(10px, 1.2vw, 12px);
            position: absolute;
            top: 0;
            left: 0;
            z-index: 10;
            transition: transform 0.3s ease;
        }

        /* 列表层隐藏（切换到详情层） */
        .notice-list-layer.hidden {
            transform: translateX(-100%); /* 左移隐藏，横屏切换更自然 */
        }

        .notice-list-layer::-webkit-scrollbar {
            width: 6px;
        }

        .notice-list-layer::-webkit-scrollbar-thumb {
            background-color: #383838;
            border-radius: 3px;
        }

        .notice-list-layer::-webkit-scrollbar-track {
            background-color: #1e1e1e;
        }

        /* 公告列表项：可点选，紧凑布局 */
        .notice-item {
            padding: clamp(12px, 1.5vw, 15px);
            border-radius: 12px;
            border-left: 4px solid rgba(45, 45, 45, 0.5);
            background: rgba(35, 35, 35, 0.7);
            box-shadow: 
                3px 3px 6px rgba(0, 0, 0, 0.2),
                inset 1px 1px 2px rgba(60, 60, 60, 0.2),
                inset -1px -1px 2px rgba(0, 0, 0, 0.4);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .notice-item.sticky {
            border-left: 4px solid rgba(255, 193, 7, 0.8);
            background: rgba(40, 40, 30, 0.8);
        }

        .notice-item:hover {
            transform: scale(1.005);
            box-shadow: 
                5px 5px 10px rgba(0, 0, 0, 0.3),
                inset 1px 1px 2px rgba(60, 60, 60, 0.2),
                inset -1px -1px 2px rgba(0, 0, 0, 0.4);
        }

        .sticky-tag {
            display: inline-block;
            background: rgba(255, 193, 7, 0.9);
            color: #121212;
            font-size: clamp(0.7rem, 1vw, 0.8rem);
            padding: 2px 8px;
            border-radius: 10px;
            margin-right: 8px;
            font-weight: bold;
            box-shadow: 
                2px 2px 4px rgba(0, 0, 0, 0.2),
                inset 1px 1px 2px rgba(255, 255, 255, 0.2);
        }

        .notice-item-title {
            font-size: clamp(0.9rem, 1.5vw, 1.1rem);
            color: #ffffff;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            word-break: break-word;
        }

        .notice-item-meta {
            display: flex;
            gap: clamp(10px, 1.2vw, 12px);
            color: #9e9e9e;
            font-size: clamp(0.7rem, 1vw, 0.8rem);
        }

        /* 公告详情层：默认隐藏，填满容器 */
        .notice-detail-layer {
            width: 100%;
            height: 100%;
            padding: clamp(15px, 2vw, 20px);
            background: rgba(30, 30, 30, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(50, 50, 50, 0.3);
            box-shadow: 
                6px 6px 12px rgba(0, 0, 0, 0.3),
                inset 2px 2px 3px rgba(60, 60, 60, 0.2),
                inset -2px -2px 3px rgba(0, 0, 0, 0.5);
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: #383838 #1e1e1e;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 5;
            transition: transform 0.3s ease;
            transform: translateX(100%); /* 初始右移隐藏 */
        }

        /* 详情层显示（切换自列表层） */
        .notice-detail-layer.show {
            transform: translateX(0);
        }

        .notice-detail-layer::-webkit-scrollbar {
            width: 6px;
        }

        .notice-detail-layer::-webkit-scrollbar-thumb {
            background-color: #383838;
            border-radius: 3px;
        }

        .notice-detail-layer::-webkit-scrollbar-track {
            background-color: #1e1e1e;
        }

        /* 返回按钮：详情层顶部，拟态风格 */
        .back-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            background: rgba(45, 45, 45, 0.8);
            color: #e0e0e0;
            border: none;
            padding: clamp(8px, 1.2vw, 10px) clamp(15px, 1.5vw, 18px);
            border-radius: 12px;
            cursor: pointer;
            font-size: clamp(0.8rem, 1.2vw, 0.9rem);
            box-shadow: 
                3px 3px 6px rgba(0, 0, 0, 0.3),
                inset 1px 1px 2px rgba(70, 70, 70, 0.2),
                inset -1px -1px 2px rgba(0, 0, 0, 0.4);
            margin-bottom: clamp(15px, 2vw, 20px);
            transition: all 0.2s ease;
        }

        .back-btn:hover {
            background: rgba(56, 56, 56, 0.8);
            box-shadow: 
                4px 4px 8px rgba(0, 0, 0, 0.35),
                inset 1px 1px 2px rgba(70, 70, 70, 0.2),
                inset -1px -1px 2px rgba(0, 0, 0, 0.4);
        }

        .back-btn:active {
            box-shadow: 
                inset 3px 3px 6px rgba(0, 0, 0, 0.25),
                inset -1px -1px 2px rgba(70, 70, 70, 0.2);
        }

        /* 详情层内容样式 */
        .detail-title {
            font-size: clamp(1.2rem, 2.5vw, 1.5rem);
            color: #ffffff;
            margin-bottom: clamp(10px, 1.5vw, 15px);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
            word-break: break-word;
        }

        .detail-meta {
            display: flex;
            flex-wrap: wrap;
            gap: clamp(15px, 2vw, 20px);
            color: #9e9e9e;
            font-size: clamp(0.8rem, 1.2vw, 0.9rem);
            margin-bottom: clamp(20px, 2.5vw, 25px);
            padding-bottom: clamp(10px, 1.5vw, 15px);
            border-bottom: 1px solid rgba(50, 50, 50, 0.5);
        }

        .detail-content {
            color: #c5c5c5;
            font-size: clamp(0.9rem, 1.5vw, 1rem);
            line-height: 1.8;
            word-break: break-word;
        }

        /* 底部版权：紧凑布局 */
        .footer {
            text-align: center;
            padding: clamp(10px, 1.5vw, 12px);
            color: #757575;
            font-size: clamp(0.7rem, 1vw, 0.8rem);
            background: rgba(30, 30, 30, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(50, 50, 50, 0.3);
            border-radius: 12px;
            box-shadow: 
                6px 6px 12px rgba(0, 0, 0, 0.3),
                inset 2px 2px 3px rgba(60, 60, 60, 0.2),
                inset -2px -2px 3px rgba(0, 0, 0, 0.5);
        }

        /* 媒体查询：横屏手机（宽高比>1）优化 */
        @media (aspect-ratio > 1) {
            .page-container {
                max-height: 90vh;
            }
            .filter-bar {
                justify-content: flex-start;
            }
            .notice-item {
                padding: 12px 18px;
            }
        }

        /* 媒体查询：平板横屏（768px以上，宽高比>1） */
        @media (min-width: 768px) and (aspect-ratio > 1) {
            .page-container {
                max-width: 1000px;
            }
            .notice-list-layer {
                gap: 15px;
            }
            .detail-content {
                font-size: 1.1rem;
            }
        }

        /* 兼容竖屏手机（可选，保证基础可用） */
        @media (aspect-ratio <= 1) {
            .content-container {
                max-height: 60vh;
            }
            .notice-detail-layer {
                transform: translateY(100%);
            }
            .notice-detail-layer.show {
                transform: translateY(0);
            }
            .notice-list-layer.hidden {
                transform: translateY(-100%);
            }
        }
    </style>
</head>
<body>
    <!-- ========== 文字配置区（无需改动结构，仅改文字） ========== -->
    <script>
        const textConfig = {
            pageTitle: "公告展示平台",
            headerTitle: "公告中心", // 标题文字不变，仅通过CSS缩小字号
            headerSubtitle: "横屏专用 · 点选查看详情",
            copyrightText: "© 2025 公告展示平台 版权所有",
            backBtnText: "返回列表",
            backBtnIcon: "←",
            
            filterButtons: [
                { type: "all", text: "全部公告" },
                { type: "system", text: "系统通知" },
                { type: "activity", text: "活动公告" },
                { type: "notice", text: "重要通知" }
            ],
            
            stickyTag: "置顶",
            noticeList: [
                {
                    id: 1,
                    isSticky: true,
                    type: "notice",
                    title: "测试公告（置顶）",
                    time: "2025-12-24",
                    category: "重要通知",
                    content: "测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容"
                },
                {
                    id: 2,
                    isSticky: false,
                    type: "activity",
                    title: "测试公告",
                    time: "2025-12-22",
                    category: "活动公告",
                    content: "测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容"
                },
                {
                    id: 3,
                    isSticky: false,
                    type: "system",
                    title: "测试公告",
                    time: "2025-12-20",
                    category: "系统通知",
                    content: "测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容"
                },
                {
                    id: 4,
                    isSticky: false,
                    type: "notice",
                    title: "测试公告",
                    time: "2025-12-18",
                    category: "重要通知",
                    content: "测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容"
                },
                {
                    id: 5,
                    isSticky: false,
                    type: "activity",
                    title: "测试公告",
                    time: "2025-12-16",
                    category: "活动公告",
                    content: "测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容"
                }
            ]
        };

        // 全局变量：存储当前选中的公告
        let currentNotice = null;

        // 页面渲染函数
        function renderPage() {
            // 1. 设置页面标题
            document.title = textConfig.pageTitle;

            // 2. 创建页面容器
            const pageContainer = document.createElement('div');
            pageContainer.className = 'page-container';
            document.body.appendChild(pageContainer);

            // 3. 渲染头部
            const header = document.createElement('div');
            header.className = 'header';
            header.innerHTML = `
                <h1>${textConfig.headerTitle}</h1>
                <p>${textConfig.headerSubtitle}</p>
            `;
            pageContainer.appendChild(header);

            // 4. 渲染筛选栏
            const filterBar = document.createElement('div');
            filterBar.className = 'filter-bar';
            textConfig.filterButtons.forEach((btn, index) => {
                const button = document.createElement('button');
                button.className = index === 0 ? 'active' : '';
                button.setAttribute('data-type', btn.type);
                button.textContent = btn.text;
                filterBar.appendChild(button);
            });
            pageContainer.appendChild(filterBar);

            // 5. 渲染核心内容容器（列表+详情）
            const contentContainer = document.createElement('div');
            contentContainer.className = 'content-container';
            pageContainer.appendChild(contentContainer);

            // 6. 渲染公告列表层
            const listLayer = document.createElement('div');
            listLayer.className = 'notice-list-layer';
            // 生成公告列表项
            textConfig.noticeList.forEach(notice => {
                const item = document.createElement('div');
                item.className = `notice-item ${notice.isSticky ? 'sticky' : ''}`;
                item.setAttribute('data-id', notice.id);
                item.innerHTML = `
                    <div class="notice-item-title">
                        ${notice.isSticky ? `<span class="sticky-tag">${textConfig.stickyTag}</span>` : ''}
                        ${notice.title}
                    </div>
                    <div class="notice-item-meta">
                        <span>发布时间：${notice.time}</span>
                        <span>分类：${notice.category}</span>
                    </div>
                `;
                listLayer.appendChild(item);
            });
            contentContainer.appendChild(listLayer);

            // 7. 渲染公告详情层
            const detailLayer = document.createElement('div');
            detailLayer.className = 'notice-detail-layer';
            // 详情层结构（先占位，点选后填充内容）
            detailLayer.innerHTML = `
                <button class="back-btn">${textConfig.backBtnIcon} ${textConfig.backBtnText}</button>
                <h2 class="detail-title"></h2>
                <div class="detail-meta">
                    <span class="detail-time"></span>
                    <span class="detail-category"></span>
                </div>
                <div class="detail-content"></div>
            `;
            contentContainer.appendChild(detailLayer);

            // 8. 渲染底部
            const footer = document.createElement('div');
            footer.className = 'footer';
            footer.textContent = textConfig.copyrightText;
            pageContainer.appendChild(footer);

            // ========== 绑定层级切换事件 ==========
            // 公告项点选：切换到详情层
            const noticeItems = document.querySelectorAll('.notice-item');
            const backBtn = document.querySelector('.back-btn');
            const detailTitle = document.querySelector('.detail-title');
            const detailTime = document.querySelector('.detail-time');
            const detailCategory = document.querySelector('.detail-category');
            const detailContent = document.querySelector('.detail-content');

            noticeItems.forEach(item => {
                item.addEventListener('click', function() {
                    const noticeId = parseInt(this.getAttribute('data-id'));
                    // 查找对应公告
                    currentNotice = textConfig.noticeList.find(notice => notice.id === noticeId);
                    if (currentNotice) {
                        // 填充详情内容
                        detailTitle.textContent = currentNotice.title;
                        detailTime.textContent = `发布时间：${currentNotice.time}`;
                        detailCategory.textContent = `分类：${currentNotice.category}`;
                        detailContent.textContent = currentNotice.content;
                        // 切换层级显示
                        listLayer.classList.add('hidden');
                        detailLayer.classList.add('show');
                    }
                });
            });

            // 返回按钮：切换回列表层
            backBtn.addEventListener('click', function() {
                listLayer.classList.remove('hidden');
                detailLayer.classList.remove('show');
                currentNotice = null;
            });

            // ========== 绑定筛选事件 ==========
            const filterBtns = document.querySelectorAll('.filter-bar button');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    const targetType = this.getAttribute('data-type');
                    // 筛选列表项
                    noticeItems.forEach(item => {
                        const itemType = textConfig.noticeList.find(notice => notice.id === parseInt(item.getAttribute('data-id'))).type;
                        if (targetType === 'all' || itemType === targetType) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            });

            // ========== 移动端触摸反馈 ==========
            if ('ontouchstart' in window) {
                const clickableElements = document.querySelectorAll('.filter-bar button, .notice-item, .back-btn');
                clickableElements.forEach(el => {
                    el.addEventListener('touchstart', function() {
                        this.style.opacity = '0.8';
                    });
                    el.addEventListener('touchend', function() {
                        setTimeout(() => {
                            this.style.opacity = '1';
                        }, 100);
                    });
                });
            }
        }

        // 页面加载完成后渲染
        window.onload = renderPage;
    </script>
</body>
</html>
